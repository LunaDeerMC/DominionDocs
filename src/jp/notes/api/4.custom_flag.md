---
title: カスタム Flag
createTime: 2025/10/10 09:21:07
permalink: /jp/notes/api/custom_flag/
---

> バージョン 4.7.0 以降、Dominion はカスタム Flag 機能を公開し、開発者が領地システムにカスタム Flag を追加できるようになりました。

## 概要

Dominion の Flag システムは、以下の 2 種類の Flag で構成されています：
- `EnvFlag`: Environment Flag。プレイヤーの行動に関係しない領地属性を表します（例：領地の自然環境、天候など）。
- `PriFlag`: Privilege Flag。プレイヤーの行動に関連する領地属性を表します（例：プレイヤーが領地内で建築や破壊が可能かどうかなど）。

Flag オブジェクトの定義：
```java
/**
 * 新しい Flag を構築します。
 *
 * @param flag_name     Flag の名前（ユニークでスペースを含まない必要があります）
 * @param display_name  Flag の表示名
 * @param description   Flag の説明
 * @param default_value Flag のデフォルト値
 * @param enable        Flag の有効状態
 * @param material      CUI 内の Flag の素材
 */
```

## カスタム Flag の作成

```java
// カスタム EnvFlag を定義
public static EnvFlag NO_RAIN = new EnvFlag("no_rain", "雨なし", "この領地では天候が雨に変わりません。", false, true, Material.SUNFLOWER);
// カスタム PriFlag を定義
public static PriFlag BED = new PriFlag("bed", "ベッド", "天候がベッドで眠ることを許可します（スポーン地点を設定）。", false, true, Material.RED_BED);

// カスタム Flag を登録
Flags.registerEnvFlag(NO_RAIN);
Flags.registerPriFlag(BED);

// カスタム Flag を領地システムに適用
Flags.applyNewCustomFlags();
```